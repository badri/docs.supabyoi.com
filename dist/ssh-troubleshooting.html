<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SSH Troubleshooting - Supabyoi Docs</title>
  <link rel="stylesheet" href="output.css" />
</head>
<body class="bg-white text-gray-900">

  <!-- Navigation -->
  <nav class="sticky top-0 z-50 bg-white border-b border-gray-200">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-16">
        <!-- Logo -->
        <div class="flex-shrink-0">
          <a href="index.html" class="text-gray-900 font-bold text-lg hover:text-emerald-600 transition-colors">Supabyoi Docs</a>
        </div>

        <!-- Desktop Nav -->
        <div class="hidden md:flex items-center space-x-6">
          <a href="getting-started.html" class="text-gray-600 hover:text-emerald-600 text-sm font-medium transition-colors">Getting Started</a>
          <a href="vm-setup.html" class="text-gray-600 hover:text-emerald-600 text-sm font-medium transition-colors">VM Setup</a>
          <a href="ssh-troubleshooting.html" class="text-emerald-600 font-semibold text-sm transition-colors">SSH Troubleshooting</a>
          <a href="deployment.html" class="text-gray-600 hover:text-emerald-600 text-sm font-medium transition-colors">Deployment</a>
          <a href="features.html" class="text-gray-600 hover:text-emerald-600 text-sm font-medium transition-colors">Features</a>
          <a href="security.html" class="text-gray-600 hover:text-emerald-600 text-sm font-medium transition-colors">Security</a>
          <a href="faq.html" class="text-gray-600 hover:text-emerald-600 text-sm font-medium transition-colors">FAQ</a>
          <a href="roadmap.html" class="text-gray-600 hover:text-emerald-600 text-sm font-medium transition-colors">Roadmap</a>
        </div>

        <!-- Mobile hamburger -->
        <div class="md:hidden">
          <button id="mobile-menu-btn" type="button" class="text-gray-600 hover:text-gray-900 focus:outline-none" aria-label="Toggle menu">
            <svg id="icon-open" class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
            </svg>
            <svg id="icon-close" class="h-6 w-6 hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
        </div>
      </div>
    </div>

    <!-- Mobile Menu -->
    <div id="mobile-menu" class="hidden md:hidden border-t border-gray-200 bg-white px-4 py-3 space-y-2">
      <a href="getting-started.html" class="block text-gray-600 hover:text-emerald-600 text-sm font-medium py-1 transition-colors">Getting Started</a>
      <a href="vm-setup.html" class="block text-gray-600 hover:text-emerald-600 text-sm font-medium py-1 transition-colors">VM Setup</a>
      <a href="ssh-troubleshooting.html" class="block text-emerald-600 font-semibold text-sm py-1">SSH Troubleshooting</a>
      <a href="deployment.html" class="block text-gray-600 hover:text-emerald-600 text-sm font-medium py-1 transition-colors">Deployment</a>
      <a href="features.html" class="block text-gray-600 hover:text-emerald-600 text-sm font-medium py-1 transition-colors">Features</a>
      <a href="security.html" class="block text-gray-600 hover:text-emerald-600 text-sm font-medium py-1 transition-colors">Security</a>
      <a href="faq.html" class="block text-gray-600 hover:text-emerald-600 text-sm font-medium py-1 transition-colors">FAQ</a>
      <a href="roadmap.html" class="block text-gray-600 hover:text-emerald-600 text-sm font-medium py-1 transition-colors">Roadmap</a>
    </div>
  </nav>

  <!-- Main Layout -->
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10">
    <div class="flex gap-10">

      <!-- Sticky TOC Sidebar (hidden on mobile) -->
      <aside class="hidden lg:block w-56 flex-shrink-0">
        <div class="sticky top-24">
          <p class="text-xs font-semibold text-gray-400 uppercase tracking-wider mb-3">On this page</p>
          <nav class="space-y-1">
            <a href="#common-errors" class="block text-sm text-gray-600 hover:text-emerald-600 py-1 transition-colors">Common Errors</a>
            <a href="#post-hardening-access" class="block text-sm text-gray-600 hover:text-emerald-600 py-1 transition-colors">Post-Hardening Access</a>
            <a href="#re-verification" class="block text-sm text-gray-600 hover:text-emerald-600 py-1 transition-colors">Re-verification</a>
            <a href="#cloud-provider-gotchas" class="block text-sm text-gray-600 hover:text-emerald-600 py-1 transition-colors">Cloud Provider Gotchas</a>
            <a href="#still-having-issues" class="block text-sm text-gray-600 hover:text-emerald-600 py-1 transition-colors">Still Having Issues?</a>
          </nav>
        </div>
      </aside>

      <!-- Page Content -->
      <main class="flex-1 max-w-4xl min-w-0">

        <!-- Page Header -->
        <div class="mb-10">
          <h1 class="text-3xl font-bold text-gray-900 mb-3">SSH Troubleshooting</h1>
          <p class="text-gray-500 text-lg">Diagnose and fix common SSH connectivity issues when connecting Supabyoi to your VMs.</p>
        </div>

        <!-- Common Errors -->
        <section id="common-errors" class="mb-12">
          <h2 class="text-xl font-semibold text-gray-900 mb-4">Common Errors</h2>
          <p class="text-gray-600 mb-5">The table below lists the most frequent SSH errors, their likely causes, and recommended fixes.</p>

          <div class="border border-gray-200 rounded-lg overflow-hidden">
            <table class="min-w-full divide-y divide-gray-200 text-sm">
              <thead>
                <tr class="bg-gray-50">
                  <th class="px-4 py-3 text-left font-semibold text-gray-700 w-1/4">Error</th>
                  <th class="px-4 py-3 text-left font-semibold text-gray-700 w-1/4">Cause</th>
                  <th class="px-4 py-3 text-left font-semibold text-gray-700">Fix</th>
                </tr>
              </thead>
              <tbody class="divide-y divide-gray-200">
                <tr class="bg-white">
                  <td class="px-4 py-4 font-medium text-gray-800 align-top">Authentication failed</td>
                  <td class="px-4 py-4 text-gray-600 align-top">Wrong SSH key</td>
                  <td class="px-4 py-4 text-gray-600 align-top">
                    Verify the private key matches the public key on the server. Try
                    <code class="bg-gray-100 rounded px-1 font-mono text-sm">ssh -i your_key user@ip</code>
                    locally first.
                  </td>
                </tr>
                <tr class="bg-gray-50">
                  <td class="px-4 py-4 font-medium text-gray-800 align-top">Could not reach SSH</td>
                  <td class="px-4 py-4 text-gray-600 align-top">Port blocked or SSH not running</td>
                  <td class="px-4 py-4 text-gray-600 align-top">
                    Check cloud provider firewall allows port 22. Verify SSH service is running:
                    <code class="bg-gray-100 rounded px-1 font-mono text-sm">systemctl status sshd</code>
                  </td>
                </tr>
                <tr class="bg-white">
                  <td class="px-4 py-4 font-medium text-gray-800 align-top">Connection timed out</td>
                  <td class="px-4 py-4 text-gray-600 align-top">Wrong IP or port blocked</td>
                  <td class="px-4 py-4 text-gray-600 align-top">
                    Verify IP address. Check cloud provider firewall. Try
                    <code class="bg-gray-100 rounded px-1 font-mono text-sm">ping your-ip</code>
                    to confirm reachability.
                  </td>
                </tr>
                <tr class="bg-gray-50">
                  <td class="px-4 py-4 font-medium text-gray-800 align-top">Connection refused</td>
                  <td class="px-4 py-4 text-gray-600 align-top">SSH not running or wrong port</td>
                  <td class="px-4 py-4 text-gray-600 align-top">
                    Ensure SSH daemon is active. Check you are using the correct port.
                  </td>
                </tr>
                <tr class="bg-white">
                  <td class="px-4 py-4 font-medium text-gray-800 align-top">No route to host</td>
                  <td class="px-4 py-4 text-gray-600 align-top">Server offline or wrong IP</td>
                  <td class="px-4 py-4 text-gray-600 align-top">
                    Verify server is powered on and the IP address is correct in your cloud provider console.
                  </td>
                </tr>
                <tr class="bg-gray-50">
                  <td class="px-4 py-4 font-medium text-gray-800 align-top">Invalid SSH key format</td>
                  <td class="px-4 py-4 text-gray-600 align-top">Key not RSA or Ed25519</td>
                  <td class="px-4 py-4 text-gray-600 align-top">
                    Generate a new key:
                    <code class="bg-gray-100 rounded px-1 font-mono text-sm">ssh-keygen -t ed25519</code>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </section>

        <!-- Post-Hardening Access -->
        <section id="post-hardening-access" class="mb-12">
          <h2 class="text-xl font-semibold text-gray-900 mb-4">Post-Hardening Access</h2>
          <p class="text-gray-600 mb-4">
            After VM hardening, the SSH port and user are changed for security. The new port and user are displayed on the VM detail page inside Supabyoi.
          </p>
          <p class="text-gray-600 mb-4">
            If you need to connect manually via your terminal, use the displayed port and the <code class="bg-gray-100 rounded px-1 font-mono text-sm">supabyoi</code> user:
          </p>
          <pre class="bg-gray-900 text-gray-100 p-4 rounded-lg font-mono text-sm overflow-x-auto"><code>ssh -i your_key -p NEW_PORT supabyoi@your-ip</code></pre>
          <p class="text-gray-500 text-sm mt-3">
            Replace <span class="font-mono">NEW_PORT</span> with the port shown on your VM detail page and <span class="font-mono">your-ip</span> with your server's IP address.
          </p>
        </section>

        <!-- Re-verification -->
        <section id="re-verification" class="mb-12">
          <h2 class="text-xl font-semibold text-gray-900 mb-4">Re-verification</h2>
          <p class="text-gray-600">
            You can use the <span class="font-semibold text-gray-800">Test Connection</span> button on the VM detail page at any time to re-check SSH connectivity. This runs a live connection test from Supabyoi to your VM and reports any errors immediately, making it easy to confirm that access is restored after making firewall or configuration changes.
          </p>
        </section>

        <!-- Cloud Provider Gotchas -->
        <section id="cloud-provider-gotchas" class="mb-12">
          <h2 class="text-xl font-semibold text-gray-900 mb-5">Cloud Provider Gotchas</h2>
          <p class="text-gray-600 mb-6">Each cloud provider has its own firewall and networking model. Below are common pitfalls for the most popular providers.</p>

          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            <!-- AWS -->
            <div class="border border-gray-200 rounded-lg p-5 hover:border-emerald-300 transition-colors">
              <div class="flex items-center gap-2 mb-2">
                <span class="inline-block w-2 h-2 rounded-full bg-emerald-500"></span>
                <h3 class="font-semibold text-gray-900">AWS</h3>
              </div>
              <p class="text-gray-600 text-sm">
                Security Groups must have inbound rules for the SSH port. The default VPC may block custom ports after hardening. Update your Security Group inbound rules to allow the new SSH port from your IP or CIDR range.
              </p>
            </div>

            <!-- DigitalOcean -->
            <div class="border border-gray-200 rounded-lg p-5 hover:border-emerald-300 transition-colors">
              <div class="flex items-center gap-2 mb-2">
                <span class="inline-block w-2 h-2 rounded-full bg-emerald-500"></span>
                <h3 class="font-semibold text-gray-900">DigitalOcean</h3>
              </div>
              <p class="text-gray-600 text-sm">
                Firewall rules are separate from the droplet itself. Navigate to <span class="font-medium text-gray-800">Networking &rarr; Firewalls</span> in the control panel and ensure the new SSH port is permitted in the inbound rules assigned to your droplet.
              </p>
            </div>

            <!-- Hetzner -->
            <div class="border border-gray-200 rounded-lg p-5 hover:border-emerald-300 transition-colors">
              <div class="flex items-center gap-2 mb-2">
                <span class="inline-block w-2 h-2 rounded-full bg-emerald-500"></span>
                <h3 class="font-semibold text-gray-900">Hetzner</h3>
              </div>
              <p class="text-gray-600 text-sm">
                Hetzner Firewalls must explicitly allow the new SSH port after hardening. Go to your server's Firewall settings and add an inbound TCP rule for the updated port. Without this, connections will be silently dropped.
              </p>
            </div>

            <!-- GCP -->
            <div class="border border-gray-200 rounded-lg p-5 hover:border-emerald-300 transition-colors">
              <div class="flex items-center gap-2 mb-2">
                <span class="inline-block w-2 h-2 rounded-full bg-emerald-500"></span>
                <h3 class="font-semibold text-gray-900">GCP</h3>
              </div>
              <p class="text-gray-600 text-sm">
                GCP uses VPC Firewall rules. Check both network-level and instance-level firewall rules. You may need to add a firewall rule that targets your instance by tag and allows TCP ingress on the new SSH port.
              </p>
            </div>
          </div>
        </section>

        <!-- Still Having Issues -->
        <section id="still-having-issues" class="mb-12">
          <h2 class="text-xl font-semibold text-gray-900 mb-4">Still Having Issues?</h2>
          <p class="text-gray-600 mb-4">
            If you have worked through the steps above and are still unable to connect, there are two good next steps:
          </p>
          <ul class="list-disc list-inside space-y-2 text-gray-600 mb-4">
            <li>
              Check the <a href="faq.html" class="text-emerald-600 hover:text-emerald-700 font-medium underline underline-offset-2 transition-colors">FAQ page</a> for additional common questions and answers.
            </li>
            <li>
              Reach out to support via <a href="https://supabyoi.com" class="text-emerald-600 hover:text-emerald-700 font-medium underline underline-offset-2 transition-colors">supabyoi.com</a> and include your error message, cloud provider, and any steps you have already tried.
            </li>
          </ul>
          <p class="text-gray-600">
            When contacting support, it helps to include the output of the <span class="font-semibold text-gray-800">Test Connection</span> diagnostic from the VM detail page.
          </p>
        </section>

      </main>
    </div>
  </div>

  <!-- Footer -->
  <footer class="border-t border-gray-200 mt-12">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
      <div class="flex flex-col sm:flex-row items-center justify-between gap-4">
        <p class="text-gray-500 text-sm">Built by Supabyoi</p>
        <div class="flex items-center gap-6">
          <a href="https://app.supabyoi.com" class="text-gray-500 hover:text-emerald-600 text-sm transition-colors">app.supabyoi.com</a>
          <a href="https://supabyoi.com" class="text-gray-500 hover:text-emerald-600 text-sm transition-colors">supabyoi.com</a>
        </div>
      </div>
    </div>
  </footer>

  <script>
    const btn = document.getElementById('mobile-menu-btn');
    const menu = document.getElementById('mobile-menu');
    const iconOpen = document.getElementById('icon-open');
    const iconClose = document.getElementById('icon-close');

    btn.addEventListener('click', function () {
      const isHidden = menu.classList.contains('hidden');
      menu.classList.toggle('hidden', !isHidden);
      iconOpen.classList.toggle('hidden', isHidden);
      iconClose.classList.toggle('hidden', !isHidden);
    });
  </script>
</body>
</html>
